<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>The Garchive</title>
    <link rel="icon" href="images/garcon.ico" type="image/x-icon">
    <link rel="stylesheet" href="styles/style_main.css">
</head>

<body>
    <div id="custom-cursor"></div>
    <!-- Title Section -->
    <header>
        <a href="index.html" class="nogrowlink">
            <img src="images/garcon_archivetext_small.png" alt="Homepage"
                style="width:200px; height:auto; vertical-align: middle;"
                id="imglink">
        </a>
        &nbsp;
        <i>Everything there is to know about this strange specimen!</i>
        <canvas id="titlebar" height="25"
            data-text="THE GARCHIVE |"
            data-spacing="15"
            data-font-size="18"
            data-y="23"
            data-speed="1"
            data-font-family="Gargling-fried"
            data-color="gray"
            data-bgcolor="black">
        </canvas>
    </header>

    <!-- navigation -->
    <br>
    <div id="nav"></div>
    <br>

<!-- Main category content -->
<main id="app">
  <section id="subheader">
    <h1 id="category-title"></h1>
    <p id="category-description"></p>
  </section>
  <div id="category-entries"></div>

  <footer id="footer"></footer>
</main>


    <!-- External scripts -->
    <div>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/dompurify/dist/purify.min.js"></script>
    <script src="javascript/category.js" defer></script>
    <script src="javascript/text_obfuscate.js"></script>
    <script src="javascript/autosave.js"></script>

    <script src="javascript/search.js" defer></script>
    <script src="javascript/scrollbar.js" defer></script>
    <script src="javascript/titlebar.js" defer></script>

    <!--object loader (same across different pages)-->
    <script>
    async function loadHTML(id, file) {
      const res = await fetch(file);
      document.getElementById(id).innerHTML = await res.text();
    }
    loadHTML("nav", "objects/navigation.html").then(() => {
      // Now it's safe to use the searchbar
      initSearch(); 
      initScroll();
    });
    loadHTML("footer", "objects/footer.html").then(() => {
      // Now it's safe to use the searchbar
      initSearch(); 
      initScroll();
    });
    </script>
    
    </div>
</body>

</html>