<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>The Garchive</title>
    <link rel="icon" href="images/garcon.ico" type="image/x-icon">
    <link rel="stylesheet" href="styles/style_main.css">
</head>

<body>

<div id="immersion-box"></div>

<!--HEADER-->
<header>
        <a href="index.html" class="nogrowlink">
            <img src="images/garcon_archivetext_small.png" alt="Homepage"
                style="width:200px; height:auto; vertical-align: middle;"
                id="imglink">
        </a>
        &nbsp;
        <i>Everything there is to know about this strange specimen!</i>
        <canvas id="titlebar" height="25"
            data-text="THE GARCHIVE |"
            data-spacing="15"
            data-font-size="18"
            data-y="23"
            data-speed="1"
            data-font-family="Gargling-fried"
            data-color="gray"
            data-bgcolor="black">
        </canvas>
</header>

<!--NAVIGATION-->
<br>
<div id="nav"></div>
<br>

<!--PAGE BODY-->
<main id="app">
  <section id="subheader">
    <h1 id="category-title"></h1>
    <p id="category-description"></p>
  </section>
  <div id="category-entries"></div>

  <footer id="footer"></footer>
</main>

<!--SCRIPTS-->
<div>

    <!--object loader-->
    <script>
    async function loadHTML(id, file) {
      const res = await fetch(file);
      document.getElementById(id).innerHTML = await res.text();
    }
    loadHTML("nav", "objects/navigation.html").then(() => {
      initSearchUI();
    });
    loadHTML("footer", "objects/footer.html").then(() => {
    });
    loadHTML("immersion-box", "objects/immersion.html").then(() => {
      immersionConsent();
    });
    </script>

    <script src="javascript/clientside/link_autosave.js" defer></script>
    <script src="javascript/clientside/gamestate.js" defer></script>
    <script src="javascript/pagevisits.js" defer></script>

    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/dompurify/dist/purify.min.js" defer></script>
    <script src="javascript/sitescripts/category.js" defer></script>
    <script src="javascript/effects/text_obfuscate.js" defer></script>

    <script src="javascript/sitescripts/titlebar.js" defer></script>

    <script src="javascript/sitescripts/searchEngine.js" defer></script>
    <script src="javascript/sitescripts/searchUI.js" defer></script>
    
    <!--sensitive features access request-->
    <script src="javascript/sitescripts/consent_request.js" defer></script>
    
</div>

</body>

</html>